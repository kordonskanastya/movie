{"ast":null,"code":"var _jsxFileName = \"/home/anastasiia/Documents/React_Projects/moviesWithDb/src/components/AddMovie.js\";\nimport React, { useRef, useState } from \"react\";\nimport classes from \"./AddMovie.module.css\";\n\nasync function addMovieHandler(movie, showResultFunction, props) {\n  try {\n    await fetch(\"https://weighty-arcadia-339712-default-rtdb.firebaseio.com/movies.json\", {\n      method: \"POST\",\n      body: JSON.stringify(movie),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    showResultFunction(\"Successfully add movie\");\n    props.onMovieAdded;\n  } catch (error) {\n    showResultFunction(\"An Error occupied\");\n  }\n}\n\nfunction AddMovie(props) {\n  const titleRef = useRef(\"\");\n  const openingTextRef = useRef(\"\");\n  const releaseDateRef = useRef(\"\");\n  const [resultOfAddingMovie, setResultAddMovie] = useState(\"\");\n\n  function submitHandler(event) {\n    event.preventDefault(); // could add validation here...\n\n    const movie = {\n      title: titleRef.current.value,\n      openingText: openingTextRef.current.value,\n      releaseDate: releaseDateRef.current.value\n    };\n    titleRef.current.value = \"\";\n    openingTextRef.current.value = \"\";\n    releaseDateRef.current.value = \"\";\n    addMovieHandler(movie, setResultAddMovie, props);\n  }\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, resultOfAddingMovie), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.control,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"title\",\n    ref: titleRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.control,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"opening-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, \"Opening Text\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    rows: \"5\",\n    id: \"opening-text\",\n    ref: openingTextRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.control,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, \"Release Date\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"date\",\n    ref: releaseDateRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, \"Add Movie\"));\n}\n\nexport default AddMovie;","map":{"version":3,"sources":["/home/anastasiia/Documents/React_Projects/moviesWithDb/src/components/AddMovie.js"],"names":["React","useRef","useState","classes","addMovieHandler","movie","showResultFunction","props","fetch","method","body","JSON","stringify","headers","onMovieAdded","error","AddMovie","titleRef","openingTextRef","releaseDateRef","resultOfAddingMovie","setResultAddMovie","submitHandler","event","preventDefault","title","current","value","openingText","releaseDate","control"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,QAAwC,OAAxC;AAEA,OAAOC,OAAP,MAAoB,uBAApB;;AAEA,eAAeC,eAAf,CAA+BC,KAA/B,EAAsCC,kBAAtC,EAA0DC,KAA1D,EAAiE;AAC/D,MAAI;AACF,UAAMC,KAAK,CACT,wEADS,EAET;AACEC,MAAAA,MAAM,EAAE,MADV;AAEEC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,KAAf,CAFR;AAGEQ,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAHX,KAFS,CAAX;AAUAP,IAAAA,kBAAkB,CAAC,wBAAD,CAAlB;AACAC,IAAAA,KAAK,CAACO,YAAN;AACD,GAbD,CAaE,OAAOC,KAAP,EAAc;AACdT,IAAAA,kBAAkB,CAAC,mBAAD,CAAlB;AACD;AACF;;AAMD,SAASU,QAAT,CAAkBT,KAAlB,EAAqC;AACnC,QAAMU,QAAQ,GAAGhB,MAAM,CAAC,EAAD,CAAvB;AACA,QAAMiB,cAAc,GAAGjB,MAAM,CAAC,EAAD,CAA7B;AACA,QAAMkB,cAAc,GAAGlB,MAAM,CAAC,EAAD,CAA7B;AACA,QAAM,CAACmB,mBAAD,EAAsBC,iBAAtB,IAA2CnB,QAAQ,CAAC,EAAD,CAAzD;;AAEA,WAASoB,aAAT,CAAuBC,KAAvB,EAA8B;AAC5BA,IAAAA,KAAK,CAACC,cAAN,GAD4B,CAG5B;;AAEA,UAAMnB,KAAK,GAAG;AACZoB,MAAAA,KAAK,EAAER,QAAQ,CAACS,OAAT,CAAiBC,KADZ;AAEZC,MAAAA,WAAW,EAAEV,cAAc,CAACQ,OAAf,CAAuBC,KAFxB;AAGZE,MAAAA,WAAW,EAAEV,cAAc,CAACO,OAAf,CAAuBC;AAHxB,KAAd;AAMAV,IAAAA,QAAQ,CAACS,OAAT,CAAiBC,KAAjB,GAAyB,EAAzB;AACAT,IAAAA,cAAc,CAACQ,OAAf,CAAuBC,KAAvB,GAA+B,EAA/B;AACAR,IAAAA,cAAc,CAACO,OAAf,CAAuBC,KAAvB,GAA+B,EAA/B;AAEAvB,IAAAA,eAAe,CAACC,KAAD,EAAQgB,iBAAR,EAA2Bd,KAA3B,CAAf;AACD;;AAED,sBACE;AAAM,IAAA,QAAQ,EAAEe,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIF,mBAAJ,CADF,eAEE;AAAK,IAAA,SAAS,EAAEjB,OAAO,CAAC2B,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,EAAE,EAAC,OAAtB;AAA8B,IAAA,GAAG,EAAEb,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAFF,eAME;AAAK,IAAA,SAAS,EAAEd,OAAO,CAAC2B,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAU,IAAA,IAAI,EAAC,GAAf;AAAmB,IAAA,EAAE,EAAC,cAAtB;AAAqC,IAAA,GAAG,EAAEZ,cAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CANF,eAUE;AAAK,IAAA,SAAS,EAAEf,OAAO,CAAC2B,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,EAAE,EAAC,MAAtB;AAA6B,IAAA,GAAG,EAAEX,cAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAVF,eAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAdF,CADF;AAkBD;;AAED,eAAeH,QAAf","sourcesContent":["import React, { useRef, useState } from \"react\";\n\nimport classes from \"./AddMovie.module.css\";\n\nasync function addMovieHandler(movie, showResultFunction, props) {\n  try {\n    await fetch(\n      \"https://weighty-arcadia-339712-default-rtdb.firebaseio.com/movies.json\",\n      {\n        method: \"POST\",\n        body: JSON.stringify(movie),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n    showResultFunction(\"Successfully add movie\");\n    props.onMovieAdded\n  } catch (error) {\n    showResultFunction(\"An Error occupied\");\n  }\n}\n\ninterface Movieprops{\n  onMovieAdded: () => void \n}\n\nfunction AddMovie(props: Movieprops) {\n  const titleRef = useRef(\"\");\n  const openingTextRef = useRef(\"\");\n  const releaseDateRef = useRef(\"\");\n  const [resultOfAddingMovie, setResultAddMovie] = useState(\"\");\n\n  function submitHandler(event) {\n    event.preventDefault();\n\n    // could add validation here...\n\n    const movie = {\n      title: titleRef.current.value,\n      openingText: openingTextRef.current.value,\n      releaseDate: releaseDateRef.current.value,\n    };\n\n    titleRef.current.value = \"\";\n    openingTextRef.current.value = \"\";\n    releaseDateRef.current.value = \"\";\n\n    addMovieHandler(movie, setResultAddMovie, props);\n  }\n\n  return (\n    <form onSubmit={submitHandler}>\n      <p>{resultOfAddingMovie}</p>\n      <div className={classes.control}>\n        <label htmlFor=\"title\">Title</label>\n        <input type=\"text\" id=\"title\" ref={titleRef} />\n      </div>\n      <div className={classes.control}>\n        <label htmlFor=\"opening-text\">Opening Text</label>\n        <textarea rows=\"5\" id=\"opening-text\" ref={openingTextRef}></textarea>\n      </div>\n      <div className={classes.control}>\n        <label htmlFor=\"date\">Release Date</label>\n        <input type=\"text\" id=\"date\" ref={releaseDateRef} />\n      </div>\n      <button>Add Movie</button>\n    </form>\n  );\n}\n\nexport default AddMovie;\n"]},"metadata":{},"sourceType":"module"}