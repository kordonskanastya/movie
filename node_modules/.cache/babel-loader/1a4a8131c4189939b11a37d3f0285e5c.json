{"ast":null,"code":"var _jsxFileName = \"/home/anastasiia/Documents/react-complete-guide-code/code/07-sending-a-post-request/src/components/AddMovie.js\";\nimport React, { useRef, useState } from 'react';\nimport classes from './AddMovie.module.css';\n\nasync function addMovieHandler(movie, showResultFunction) {\n  try {\n    const response = await fetch(\"https://weighty-arcadia-339712-default-rtdb.firebaseio.com/movies.json\", {\n      method: \"POST\",\n      body: JSON.stringify(movie),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const data = await response.json();\n    console.log(data);\n  } catch (error) {\n    setResultAddMovie('Successfully add movie');\n  }\n}\n\nfunction AddMovie() {\n  const titleRef = useRef('');\n  const openingTextRef = useRef('');\n  const releaseDateRef = useRef('');\n  const [resultOfAddingMovie, setResultAddMovie] = useState('');\n\n  function submitHandler(event) {\n    event.preventDefault(); // could add validation here...\n\n    const movie = {\n      title: titleRef.current.value,\n      openingText: openingTextRef.current.value,\n      releaseDate: releaseDateRef.current.value\n    };\n    titleRef.current.value = '';\n    openingTextRef.current.value = '';\n    releaseDateRef.current.value = '';\n    addMovieHandler(movie);\n    setResultAddMovie('Successfully add movie');\n  }\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, resultOfAddingMovie), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.control,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"title\",\n    ref: titleRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.control,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"opening-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, \"Opening Text\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    rows: \"5\",\n    id: \"opening-text\",\n    ref: openingTextRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.control,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, \"Release Date\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"date\",\n    ref: releaseDateRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, \"Add Movie\"));\n}\n\nexport default AddMovie;","map":{"version":3,"sources":["/home/anastasiia/Documents/react-complete-guide-code/code/07-sending-a-post-request/src/components/AddMovie.js"],"names":["React","useRef","useState","classes","addMovieHandler","movie","showResultFunction","response","fetch","method","body","JSON","stringify","headers","data","json","console","log","error","setResultAddMovie","AddMovie","titleRef","openingTextRef","releaseDateRef","resultOfAddingMovie","submitHandler","event","preventDefault","title","current","value","openingText","releaseDate","control"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,QAAwC,OAAxC;AAEA,OAAOC,OAAP,MAAoB,uBAApB;;AAEA,eAAeC,eAAf,CAA+BC,KAA/B,EAAsCC,kBAAtC,EAA0D;AACxD,MAAI;AACF,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAC1B,wEAD0B,EAE1B;AACEC,MAAAA,MAAM,EAAE,MADV;AAEEC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,KAAf,CAFR;AAGEQ,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAHX,KAF0B,CAA5B;AAUA,UAAMC,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAT,EAAnB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACD,GAbD,CAaE,OAAOI,KAAP,EAAc;AACdC,IAAAA,iBAAiB,CAAC,wBAAD,CAAjB;AACD;AACF;;AAED,SAASC,QAAT,GAAoB;AAClB,QAAMC,QAAQ,GAAGpB,MAAM,CAAC,EAAD,CAAvB;AACA,QAAMqB,cAAc,GAAGrB,MAAM,CAAC,EAAD,CAA7B;AACA,QAAMsB,cAAc,GAAGtB,MAAM,CAAC,EAAD,CAA7B;AACA,QAAM,CAACuB,mBAAD,EAAsBL,iBAAtB,IAA2CjB,QAAQ,CAAC,EAAD,CAAzD;;AAEA,WAASuB,aAAT,CAAuBC,KAAvB,EAA8B;AAC5BA,IAAAA,KAAK,CAACC,cAAN,GAD4B,CAG5B;;AAEA,UAAMtB,KAAK,GAAG;AACZuB,MAAAA,KAAK,EAAEP,QAAQ,CAACQ,OAAT,CAAiBC,KADZ;AAEZC,MAAAA,WAAW,EAAET,cAAc,CAACO,OAAf,CAAuBC,KAFxB;AAGZE,MAAAA,WAAW,EAAET,cAAc,CAACM,OAAf,CAAuBC;AAHxB,KAAd;AAMAT,IAAAA,QAAQ,CAACQ,OAAT,CAAiBC,KAAjB,GAAyB,EAAzB;AACAR,IAAAA,cAAc,CAACO,OAAf,CAAuBC,KAAvB,GAA+B,EAA/B;AACAP,IAAAA,cAAc,CAACM,OAAf,CAAuBC,KAAvB,GAA+B,EAA/B;AAEA1B,IAAAA,eAAe,CAACC,KAAD,CAAf;AACAc,IAAAA,iBAAiB,CAAC,wBAAD,CAAjB;AACD;;AAED,sBACE;AAAM,IAAA,QAAQ,EAAEM,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAID,mBAAJ,CADF,eAEE;AAAK,IAAA,SAAS,EAAErB,OAAO,CAAC8B,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,EAAE,EAAC,OAAtB;AAA8B,IAAA,GAAG,EAAEZ,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAFF,eAME;AAAK,IAAA,SAAS,EAAElB,OAAO,CAAC8B,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAU,IAAA,IAAI,EAAC,GAAf;AAAmB,IAAA,EAAE,EAAC,cAAtB;AAAqC,IAAA,GAAG,EAAEX,cAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CANF,eAUE;AAAK,IAAA,SAAS,EAAEnB,OAAO,CAAC8B,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,EAAE,EAAC,MAAtB;AAA6B,IAAA,GAAG,EAAEV,cAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAVF,eAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAdF,CADF;AAkBD;;AAED,eAAeH,QAAf","sourcesContent":["import React, { useRef, useState } from 'react';\n\nimport classes from './AddMovie.module.css';\n\nasync function addMovieHandler(movie, showResultFunction) {\n  try {\n    const response = await fetch(\n      \"https://weighty-arcadia-339712-default-rtdb.firebaseio.com/movies.json\",\n      {\n        method: \"POST\",\n        body: JSON.stringify(movie),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n    const data = await response.json();\n    console.log(data);\n  } catch (error) {\n    setResultAddMovie('Successfully add movie');\n  }\n}\n\nfunction AddMovie() {\n  const titleRef = useRef('');\n  const openingTextRef = useRef('');\n  const releaseDateRef = useRef('');\n  const [resultOfAddingMovie, setResultAddMovie] = useState('');\n\n  function submitHandler(event) {\n    event.preventDefault();\n\n    // could add validation here...\n\n    const movie = {\n      title: titleRef.current.value,\n      openingText: openingTextRef.current.value,\n      releaseDate: releaseDateRef.current.value,\n    };\n\n    titleRef.current.value = '';\n    openingTextRef.current.value = '';\n    releaseDateRef.current.value = '';\n\n    addMovieHandler(movie);\n    setResultAddMovie('Successfully add movie');\n  }\n\n  return (\n    <form onSubmit={submitHandler}>\n      <p>{resultOfAddingMovie}</p>\n      <div className={classes.control}>\n        <label htmlFor='title'>Title</label>\n        <input type='text' id='title' ref={titleRef} />\n      </div>\n      <div className={classes.control}>\n        <label htmlFor='opening-text'>Opening Text</label>\n        <textarea rows='5' id='opening-text' ref={openingTextRef}></textarea>\n      </div>\n      <div className={classes.control}>\n        <label htmlFor='date'>Release Date</label>\n        <input type='text' id='date' ref={releaseDateRef} />\n      </div>\n      <button>Add Movie</button>\n    </form>\n  );\n}\n\nexport default AddMovie;\n"]},"metadata":{},"sourceType":"module"}